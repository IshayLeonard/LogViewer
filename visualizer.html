<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IVR Log Visualization</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Ensure full height in new tab/window */
      body, html {
        height: 100%;
        margin: 0;
        width: 100%; /* Override fixed width from popup css */
        max-width: none;
        padding-bottom: 20px;
        background-color: #f5f7fa;
      }
      
      .container {
        height: 100%;
        display: flex;
        flex-direction: column;
        max-width: 800px; /* Default constrained width */
        margin: 0 auto;
        padding-top: 20px;
      }

      /* When Wide View is active */
      body.wide-view .container {
        max-width: 95%;
      }

      #visualization-view {
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .tab-content.active {
        flex: 1;
        overflow-y: auto;
        padding-bottom: 20px;
      }
      
      /* Hide back button in full view since there is no 'Home' */
      #backBtn {
        display: none;
      }
      
      .timeline-container {
        max-height: none; /* Let the page scroll or flex container handle it */
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>IVR Log Visualization</h2>

      <div id="visualization-view">
        <!-- Back button hidden via CSS -->
        <button id="backBtn" class="back-btn">‚Üê Back</button>

        <div class="tab-box">
          <button class="tab-btn active" data-tab="timeline">IVR Flow</button>
          <button class="tab-btn" data-tab="participantData">
            Participant Data
          </button>
        </div>

        <div id="timeline" class="tab-content active"></div>

        <div id="participantData" class="tab-content">
          <table id="participantTable">
            <thead>
              <tr>
                <th>Key</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody id="participantBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <script type="module" src="visualizer.js"></script>
  </body>
</html>
